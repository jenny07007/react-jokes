{"version":3,"sources":["helper.js","Joke.js","JokeList.js","index.js"],"names":["getEmoji","vote","Joke","_ref","votes","text","upvote","downvote","react_default","a","createElement","className","onClick","style","borderColor","concat","JokeList","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getJokes","jokes","res","isUnique","regenerator_default","async","_context","prev","next","length","numOfJoke","awrap","axios","get","baseUrl","headers","Accept","sent","seenJokes","has","data","id","console","log","push","joke","add","setState","st","isLoading","toConsumableArray","window","localStorage","setItem","JSON","stringify","state","t0","alert","stop","handleVotes","delta","map","objectSpread2","handleClick","parse","getItem","Set","j","_this2","sort","b","c","src_Joke_0","key","Component","defaultProps","rootElement","document","getElementById","ReactDOM","render","src_JokeList"],"mappings":"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","file":"static/js/main.460941b1.chunk.js","sourcesContent":["const getColor = vote => {\n  if (vote >= 15) return \"#4caf50\";\n  else if (vote >= 12) return \"#8BC34A\";\n  else if (vote >= 9) return \"#CDDC39\";\n  else if (vote >= 6) return \"#FFEB3B\";\n  else if (vote >= 0) return \"#FF9800\";\n  else return \"#f44336\";\n};\n\nconst getEmoji = vote => {\n  if (vote >= 15) return \"ec ec-rofl\";\n  else if (vote >= 12) return \"ec ec-laughing\";\n  else if (vote >= 9) return \"ec ec-smiley\";\n  else if (vote >= 6) return \"ec ec-slightly-smiling-face\";\n  else if (vote >= 0) return \"ec ec-confused\";\n  else return \"ec ec-angry\";\n};\n\nexport { getColor, getEmoji };\n","import React from \"react\";\nimport \"./Joke.css\";\nimport { getColor, getEmoji } from \"./helper\";\nconst Joke = ({ votes, text, upvote, downvote }) => {\n  return (\n    <div className=\"joke\">\n      <div className=\"joke-btns\">\n        <i className=\"fas fa-arrow-up\" onClick={upvote} />\n        <span className=\"joke-votes\" style={{ borderColor: getColor(votes) }}>\n          {votes}\n        </span>\n        <i className=\"fas fa-arrow-down\" onClick={downvote} />\n      </div>\n      <div className=\"joke-text\">{text}</div>\n      <span className={`joke-smiley ${getEmoji(votes)}`}></span>\n    </div>\n  );\n};\n\nexport default Joke;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Joke from \"./Joke\";\nimport \"./Jokelist.css\";\n\nclass JokeList extends Component {\n  static defaultProps = {\n    numOfJoke: 10,\n    baseUrl: `https://icanhazdadjoke.com`\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      jokes: JSON.parse(window.localStorage.getItem(\"jokes\")) || [],\n      isLoading: false\n    };\n    this.seenJokes = new Set(this.state.jokes.map(j => j.id));\n    console.log(this.seenJokes);\n  }\n\n  async componentDidMount() {\n    return !this.state.jokes.length ? this.getJokes() : \"\";\n  }\n\n  getJokes = async () => {\n    try {\n      let jokes = [];\n      while (jokes.length < this.props.numOfJoke) {\n        let res = await axios.get(this.props.baseUrl, {\n          headers: { Accept: \"application/json\" }\n        });\n\n        const isUnique = this.seenJokes.has(res.data.id);\n        console.log(isUnique);\n        if (!isUnique) {\n          jokes.push({ id: res.data.id, text: res.data.joke, votes: 0 });\n          this.seenJokes.add(res.data.id);\n        } else {\n          console.log(\"FOUND A DUPLICATE\");\n          console.log(res.data.id);\n        }\n      }\n      this.setState(\n        st => ({\n          isLoading: false,\n          jokes: [...st.jokes, ...jokes]\n        }),\n        () =>\n          window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes))\n      );\n    } catch (error) {\n      alert(error);\n      this.setState({ isLoading: false });\n    }\n  };\n\n  handleVotes = (id, delta) => {\n    this.setState(\n      st => ({\n        jokes: st.jokes.map(joke =>\n          joke.id === id ? { ...joke, votes: joke.votes + delta } : joke\n        )\n      }),\n      () =>\n        window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes))\n    );\n  };\n\n  handleClick = () => {\n    this.setState({ isLoading: true }, this.getJokes);\n  };\n\n  render() {\n    const jokes = this.state.jokes.sort((a, b) => b.votes - a.votes);\n\n    return this.state.isLoading ? (\n      <div>\n        <div>\n          <i className=\"far fa-8x fa-laugh fa-spin\" />\n          <h1 className=\"joke-list-title\">Loading...</h1>\n        </div>\n      </div>\n    ) : (\n      <div className=\"joke-list\">\n        <div className=\"joke-list-sidebar\">\n          <h1 className=\"joke-list-title\">\n            Dad <span>Jokes</span>\n          </h1>\n          <span className=\"ec ec-joy\"></span>\n          <button className=\"joke-list-getmore\" onClick={this.handleClick}>\n            Fetch Jokes\n          </button>\n        </div>\n        <div className=\"joke-list-jokes\">\n          {jokes.map(c => (\n            <Joke\n              votes={c.votes}\n              key={c.id}\n              text={c.text}\n              upvote={() => this.handleVotes(c.id, 1)}\n              downvote={() => this.handleVotes(c.id, -1)}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default JokeList;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport JokeList from \"./JokeList\";\n\nimport \"./styles.css\";\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<JokeList />\n\t\t</div>\n\t);\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}