(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(47)},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(12),c=a.n(o),r=a(19),i=a(2),l=a.n(i),u=a(17),d=a(13),m=a(14),k=a(18),f=a(15),p=a(20),j=a(16),v=a.n(j),h=(a(44),function(e){return e>=15?"ec ec-rofl":e>=12?"ec ec-laughing":e>=9?"ec ec-smiley":e>=6?"ec ec-slightly-smiling-face":e>=0?"ec ec-confused":"ec ec-angry"}),g=function(e){var t,a=e.votes,n=e.text,o=e.upvote,c=e.downvote;return s.a.createElement("div",{className:"joke"},s.a.createElement("div",{className:"joke-btns"},s.a.createElement("i",{className:"fas fa-arrow-up",onClick:o}),s.a.createElement("span",{className:"joke-votes",style:{borderColor:(t=a,t>=15?"#4caf50":t>=12?"#8BC34A":t>=9?"#CDDC39":t>=6?"#FFEB3B":t>=0?"#FF9800":"#f44336")}},a),s.a.createElement("i",{className:"fas fa-arrow-down",onClick:c})),s.a.createElement("div",{className:"joke-text"},n),s.a.createElement("span",{className:"joke-smiley ".concat(h(a))}))},E=(a(45),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(k.a)(this,Object(f.a)(t).call(this,e))).getJokes=function(){var e,t,n;return l.a.async(function(s){for(;;)switch(s.prev=s.next){case 0:s.prev=0,e=[];case 2:if(!(e.length<a.props.numOfJoke)){s.next=11;break}return s.next=5,l.a.awrap(v.a.get(a.props.baseUrl,{headers:{Accept:"application/json"}}));case 5:t=s.sent,n=a.seenJokes.has(t.data.id),console.log(n),n?(console.log("FOUND A DUPLICATE"),console.log(t.data.id)):(e.push({id:t.data.id,text:t.data.joke,votes:0}),a.seenJokes.add(t.data.id)),s.next=2;break;case 11:a.setState(function(t){return{isLoading:!1,jokes:[].concat(Object(u.a)(t.jokes),e)}},function(){return window.localStorage.setItem("jokes",JSON.stringify(a.state.jokes))}),s.next=18;break;case 14:s.prev=14,s.t0=s.catch(0),alert(s.t0),a.setState({isLoading:!1});case 18:case"end":return s.stop()}},null,null,[[0,14]])},a.handleVotes=function(e,t){a.setState(function(a){return{jokes:a.jokes.map(function(a){return a.id===e?Object(r.a)({},a,{votes:a.votes+t}):a})}},function(){return window.localStorage.setItem("jokes",JSON.stringify(a.state.jokes))})},a.handleClick=function(){a.setState({isLoading:!0},a.getJokes)},a.state={jokes:JSON.parse(window.localStorage.getItem("jokes"))||[],isLoading:!1},a.seenJokes=new Set(a.state.jokes.map(function(e){return e.id})),console.log(a.seenJokes),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){return l.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.state.jokes.length?"":this.getJokes());case 1:case"end":return e.stop()}},null,this)}},{key:"render",value:function(){var e=this,t=this.state.jokes.sort(function(e,t){return t.votes-e.votes});return this.state.isLoading?s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("i",{className:"far fa-8x fa-laugh fa-spin"}),s.a.createElement("h1",{className:"joke-list-title"},"Loading..."))):s.a.createElement("div",{className:"joke-list"},s.a.createElement("div",{className:"joke-list-sidebar"},s.a.createElement("h1",{className:"joke-list-title"},"Dad ",s.a.createElement("span",null,"Jokes")),s.a.createElement("span",{className:"ec ec-joy"}),s.a.createElement("button",{className:"joke-list-getmore",onClick:this.handleClick},"Fetch Jokes")),s.a.createElement("div",{className:"joke-list-jokes"},t.map(function(t){return s.a.createElement(g,{votes:t.votes,key:t.id,text:t.text,upvote:function(){return e.handleVotes(t.id,1)},downvote:function(){return e.handleVotes(t.id,-1)}})})))}}]),t}(n.Component));E.defaultProps={numOfJoke:10,baseUrl:"https://icanhazdadjoke.com"};var w=E;a(46);var N=document.getElementById("root");c.a.render(s.a.createElement(function(){return s.a.createElement("div",{className:"App"},s.a.createElement(w,null))},null),N)}},[[21,1,2]]]);
//# sourceMappingURL=main.460941b1.chunk.js.map